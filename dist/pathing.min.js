"use strict";(()=>{var r={publicKey:null,verificationError:!1,init(){let e=document.querySelectorAll("script[pathing-api-key]");if(e.length===0){console.error("Pathing: No script tag with pathing-api-key attribute found");return}if(this.publicKey=e[0].getAttribute("pathing-api-key"),!this.publicKey){console.error("Pathing: Public key is required");return}this.track("pageview",{path:window.location.pathname,referrer:document.referrer||null,title:document.title})},async track(e,n){if(!this.publicKey)return console.error("Pathing: No public key available for tracking events"),{success:!1,error:"No public key provided"};if(this.verificationError)return console.warn("Pathing: Domain not verified. Tracking disabled."),{success:!1,error:"Domain not verified. Please verify your domain ownership."};try{let i=await(await fetch("/api/collect",{method:"POST",headers:{"Content-Type":"application/json","X-Pathing-API-Key":this.publicKey},body:JSON.stringify({type:e,payload:n})})).json();return!i.success&&i.error?.includes("not verified")&&(this.verificationError=!0,console.warn("Pathing: "+i.error)),i}catch(t){return console.error("Pathing: Error tracking event",t),{success:!1,error:"Failed to track event"}}}};typeof window<"u"&&(window.pathing=r,document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>r.init()):r.init());})();
//# sourceMappingURL=pathing.min.js.map
